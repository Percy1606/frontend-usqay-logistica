{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/percy/OneDrive/Documentos/frontend-usqay-logistica/src/app/components/productos/HeaderProductos.tsx"],"sourcesContent":["'use client'\r\nimport React from 'react'\r\nimport { FaDesktop, FaFileExport, FaPlus } from 'react-icons/fa'\r\n\r\ninterface HeaderProps {\r\n  total: number\r\n  onNuevoProductoClick: () => void\r\n  onExportarClick: () => void // Agregado para la funcionalidad de exportar\r\n}\r\n\r\nexport default function HeaderProductos({ total, onNuevoProductoClick, onExportarClick }: HeaderProps) {\r\n  return (\r\n    <div className=\"dashboard-header\">\r\n      <div className=\"header-title\">\r\n        <FaDesktop className=\"header-icon\" />\r\n        <h1>Gestión de Productos</h1>\r\n        <span className=\"badge\">{total} productos</span>\r\n      </div>\r\n      <div className=\"header-actions\">\r\n        <button className=\"export-btn\" onClick={onExportarClick}>\r\n          <FaFileExport /> Exportar\r\n        </button>\r\n        <button className=\"primary-btn\" onClick={onNuevoProductoClick}>\r\n          <FaPlus /> Nuevo Producto\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAUe,SAAS,gBAAgB,EAAE,KAAK,EAAE,oBAAoB,EAAE,eAAe,EAAe;IACnG,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,8IAAA,CAAA,YAAS;wBAAC,WAAU;;;;;;kCACrB,8OAAC;kCAAG;;;;;;kCACJ,8OAAC;wBAAK,WAAU;;4BAAS;4BAAM;;;;;;;;;;;;;0BAEjC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAO,WAAU;wBAAa,SAAS;;0CACtC,8OAAC,8IAAA,CAAA,eAAY;;;;;4BAAG;;;;;;;kCAElB,8OAAC;wBAAO,WAAU;wBAAc,SAAS;;0CACvC,8OAAC,8IAAA,CAAA,SAAM;;;;;4BAAG;;;;;;;;;;;;;;;;;;;AAKpB","debugId":null}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/percy/OneDrive/Documentos/frontend-usqay-logistica/src/app/components/productos/FiltrosProductos.tsx"],"sourcesContent":["'use client'\r\nimport React from 'react'\r\nimport { FaSearch, FaFilter, FaBroom } from 'react-icons/fa'\r\n\r\ninterface FiltrosProps {\r\n  onChangeFiltros: (filtros: { texto: string; stock: string }) => void\r\n  onResetFiltros: () => void\r\n}\r\n\r\nexport default function FiltrosProductos({ onChangeFiltros, onResetFiltros }: FiltrosProps) {\r\n  const [filtrosLocales, setFiltrosLocales] = React.useState({\r\n    texto: '',\r\n    stock: 'Todos'\r\n  })\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n    setFiltrosLocales({ ...filtrosLocales, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  const aplicarFiltros = () => {\r\n    onChangeFiltros(filtrosLocales)\r\n  }\r\n\r\n  const limpiarFiltros = () => {\r\n    const filtrosVacios = { texto: '', stock: 'Todos' }\r\n    setFiltrosLocales(filtrosVacios)\r\n    onResetFiltros()\r\n  }\r\n\r\n  return (\r\n    <div className=\"filters-section\">\r\n      <div className=\"search-box\">\r\n        <FaSearch className=\"search-icon\" />\r\n        <input\r\n          type=\"text\"\r\n          name=\"texto\"\r\n          placeholder=\"Buscar productos...\"\r\n          className=\"search-input\"\r\n          value={filtrosLocales.texto}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"filter-group\">\r\n        <div className=\"filter-item\">\r\n          <label>Stock</label>\r\n          <select name=\"stock\" value={filtrosLocales.stock} onChange={handleChange}>\r\n            <option value=\"Todos\">Todos</option>\r\n            <option value=\"Alto\">Alto</option>\r\n            <option value=\"Bajo\">Bajo</option>\r\n          </select>\r\n        </div>\r\n        <button className=\"filter-btn\" onClick={aplicarFiltros}>\r\n          <FaFilter /> Filtrar\r\n        </button>\r\n        <button className=\"filter-btn\" onClick={limpiarFiltros}>\r\n          <FaBroom style={{ marginRight: '4px' }} /> Limpiar\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AASe,SAAS,iBAAiB,EAAE,eAAe,EAAE,cAAc,EAAgB;IACxF,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,qMAAA,CAAA,UAAK,CAAC,QAAQ,CAAC;QACzD,OAAO;QACP,OAAO;IACT;IAEA,MAAM,eAAe,CAAC;QACpB,kBAAkB;YAAE,GAAG,cAAc;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IACzE;IAEA,MAAM,iBAAiB;QACrB,gBAAgB;IAClB;IAEA,MAAM,iBAAiB;QACrB,MAAM,gBAAgB;YAAE,OAAO;YAAI,OAAO;QAAQ;QAClD,kBAAkB;QAClB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,8IAAA,CAAA,WAAQ;wBAAC,WAAU;;;;;;kCACpB,8OAAC;wBACC,MAAK;wBACL,MAAK;wBACL,aAAY;wBACZ,WAAU;wBACV,OAAO,eAAe,KAAK;wBAC3B,UAAU;;;;;;;;;;;;0BAGd,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAM;;;;;;0CACP,8OAAC;gCAAO,MAAK;gCAAQ,OAAO,eAAe,KAAK;gCAAE,UAAU;;kDAC1D,8OAAC;wCAAO,OAAM;kDAAQ;;;;;;kDACtB,8OAAC;wCAAO,OAAM;kDAAO;;;;;;kDACrB,8OAAC;wCAAO,OAAM;kDAAO;;;;;;;;;;;;;;;;;;kCAGzB,8OAAC;wBAAO,WAAU;wBAAa,SAAS;;0CACtC,8OAAC,8IAAA,CAAA,WAAQ;;;;;4BAAG;;;;;;;kCAEd,8OAAC;wBAAO,WAAU;wBAAa,SAAS;;0CACtC,8OAAC,8IAAA,CAAA,UAAO;gCAAC,OAAO;oCAAE,aAAa;gCAAM;;;;;;4BAAK;;;;;;;;;;;;;;;;;;;AAKpD","debugId":null}},
    {"offset": {"line": 279, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/percy/OneDrive/Documentos/frontend-usqay-logistica/src/app/components/productos/TablaProductos.tsx"],"sourcesContent":["'use client'\r\nimport React from 'react'\r\nimport { FaEdit, FaTrash } from 'react-icons/fa'\r\nimport { Producto } from '@/shared/types/product.types'\r\n\r\ninterface TablaProps {\r\n  productos: Producto[]\r\n  onEditar?: (producto: Producto) => void\r\n  onEliminar?: (idProducto: number) => void\r\n}\r\n\r\nexport default function TablaProductos({ productos, onEditar, onEliminar }: TablaProps) {\r\n  return (\r\n    <div className=\"products-table-container\">\r\n      <table className=\"products-table\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"text-left\">Producto</th>\r\n            <th className=\"text-center\">Descripción</th>\r\n            <th className=\"text-center\">Stock</th>\r\n            <th className=\"text-right\">Precio</th>\r\n            <th className=\"text-center\">Acciones</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {productos.map((producto, index) => (\r\n            <tr key={producto.idProducto || `temp-${index}`}>\r\n              <td className=\"product-info\">\r\n                <div className=\"product-name\">{producto.nombre}</div>\r\n              </td>\r\n              <td className=\"text-center\">{producto.descripcion}</td>\r\n              <td className=\"text-center\">\r\n                <span className={`stock-badge ${producto.stock > 10 ? 'high' : 'low'}`}>\r\n                  {producto.stock}\r\n                </span>\r\n              </td>\r\n              <td className=\"text-right\">\r\n                {producto.precio.toLocaleString('es-PE', {\r\n                  style: 'currency',\r\n                  currency: 'PEN'\r\n                })}\r\n              </td>\r\n              <td className=\"text-center\">\r\n                <div className=\"actions-container\">\r\n                  <button\r\n                    className=\"action-btn edit\"\r\n                    title=\"Editar\"\r\n                    onClick={() => {\r\n                      console.log('Botón de editar clicado para:', producto);\r\n                      onEditar?.(producto);\r\n                    }}\r\n                  >\r\n                    <FaEdit />\r\n                  </button>\r\n                  <button\r\n                    className=\"action-btn delete\"\r\n                    title=\"Eliminar\"\r\n                    onClick={() => {\r\n                      if (onEliminar && producto.idProducto) {\r\n                        onEliminar(Number(producto.idProducto));\r\n                      }\r\n                    }}\r\n                  >\r\n                    <FaTrash />\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAWe,SAAS,eAAe,EAAE,SAAS,EAAE,QAAQ,EAAE,UAAU,EAAc;IACpF,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAM,WAAU;;8BACf,8OAAC;8BACC,cAAA,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAY;;;;;;0CAC1B,8OAAC;gCAAG,WAAU;0CAAc;;;;;;0CAC5B,8OAAC;gCAAG,WAAU;0CAAc;;;;;;0CAC5B,8OAAC;gCAAG,WAAU;0CAAa;;;;;;0CAC3B,8OAAC;gCAAG,WAAU;0CAAc;;;;;;;;;;;;;;;;;8BAGhC,8OAAC;8BACE,UAAU,GAAG,CAAC,CAAC,UAAU,sBACxB,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CACZ,cAAA,8OAAC;wCAAI,WAAU;kDAAgB,SAAS,MAAM;;;;;;;;;;;8CAEhD,8OAAC;oCAAG,WAAU;8CAAe,SAAS,WAAW;;;;;;8CACjD,8OAAC;oCAAG,WAAU;8CACZ,cAAA,8OAAC;wCAAK,WAAW,CAAC,YAAY,EAAE,SAAS,KAAK,GAAG,KAAK,SAAS,OAAO;kDACnE,SAAS,KAAK;;;;;;;;;;;8CAGnB,8OAAC;oCAAG,WAAU;8CACX,SAAS,MAAM,CAAC,cAAc,CAAC,SAAS;wCACvC,OAAO;wCACP,UAAU;oCACZ;;;;;;8CAEF,8OAAC;oCAAG,WAAU;8CACZ,cAAA,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDACC,WAAU;gDACV,OAAM;gDACN,SAAS;oDACP,QAAQ,GAAG,CAAC,iCAAiC;oDAC7C,WAAW;gDACb;0DAEA,cAAA,8OAAC,8IAAA,CAAA,SAAM;;;;;;;;;;0DAET,8OAAC;gDACC,WAAU;gDACV,OAAM;gDACN,SAAS;oDACP,IAAI,cAAc,SAAS,UAAU,EAAE;wDACrC,WAAW,OAAO,SAAS,UAAU;oDACvC;gDACF;0DAEA,cAAA,8OAAC,8IAAA,CAAA,UAAO;;;;;;;;;;;;;;;;;;;;;;2BArCP,SAAS,UAAU,IAAI,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;;;;;;;;;;;;AA+C3D","debugId":null}},
    {"offset": {"line": 479, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/percy/OneDrive/Documentos/frontend-usqay-logistica/src/app/components/productos/FormularioNuevoProductomodal.tsx"],"sourcesContent":["'use client'\r\nimport React, { useEffect } from 'react'\r\n\r\nimport { Producto } from '@/shared/types/product.types'\r\n\r\ninterface FormularioNuevoProductoModalProps {\r\n  onAgregar: (producto: Partial<Producto> & { idProducto?: string | number }) => void\r\n  onCerrar: () => void\r\n  productoAEditar?: Producto | null\r\n}\r\n\r\nexport default function FormularioNuevoProductoModal({\r\n  onAgregar,\r\n  onCerrar,\r\n  productoAEditar\r\n}: FormularioNuevoProductoModalProps) {\r\n  const [formData, setFormData] = React.useState<Partial<Producto>>({\r\n    nombre: '',\r\n    descripcion: '',\r\n    precio: 0,\r\n    stock: 0,\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (productoAEditar) {\r\n      setFormData({\r\n        ...productoAEditar,\r\n        precio: productoAEditar.precio,\r\n        stock: productoAEditar.stock,\r\n      })\r\n    }\r\n  }, [productoAEditar])\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n    const productoParaBackend = {\r\n      idProducto: productoAEditar?.idProducto || undefined,\r\n      nombre: formData.nombre,\r\n      descripcion: formData.descripcion,\r\n      precio: formData.precio,\r\n      stock: formData.stock\r\n    }\r\n\r\n    onAgregar(productoParaBackend)\r\n    onCerrar()\r\n  }\r\n\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"modal-box\">\r\n        <h2>{productoAEditar ? 'Editar Producto' : 'Nuevo Producto'}</h2>\r\n        <input\r\n          name=\"nombre\"\r\n          placeholder=\"Nombre\"\r\n          value={formData.nombre}\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          name=\"descripcion\"\r\n          placeholder=\"Descripción\"\r\n          value={formData.descripcion}\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          name=\"precio\"\r\n          type=\"number\"\r\n          placeholder=\"Precio\"\r\n          value={formData.precio || ''}\r\n          onChange={(e) => setFormData({ ...formData, precio: parseFloat(e.target.value) || 0 })}\r\n        />\r\n        <input\r\n          name=\"stock\"\r\n          type=\"number\"\r\n          placeholder=\"Stock\"\r\n          value={formData.stock || ''}\r\n          onChange={(e) => setFormData({ ...formData, stock: parseInt(e.target.value) || 0 })}\r\n        />\r\n        <div className=\"modal-actions\">\r\n          <button className=\"btn btn-primary\" onClick={handleSubmit}>\r\n            {productoAEditar ? 'Guardar cambios' : 'Crear'}\r\n          </button>\r\n          <button className=\"btn btn-secondary\" onClick={onCerrar}>\r\n            Cancelar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AADA;;;AAWe,SAAS,6BAA6B,EACnD,SAAS,EACT,QAAQ,EACR,eAAe,EACmB;IAClC,MAAM,CAAC,UAAU,YAAY,GAAG,qMAAA,CAAA,UAAK,CAAC,QAAQ,CAAoB;QAChE,QAAQ;QACR,aAAa;QACb,QAAQ;QACR,OAAO;IACT;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,iBAAiB;YACnB,YAAY;gBACV,GAAG,eAAe;gBAClB,QAAQ,gBAAgB,MAAM;gBAC9B,OAAO,gBAAgB,KAAK;YAC9B;QACF;IACF,GAAG;QAAC;KAAgB;IAEpB,MAAM,eAAe,CAAC;QACpB,YAAY;YAAE,GAAG,QAAQ;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IAC7D;IAEA,MAAM,eAAe;QACnB,MAAM,sBAAsB;YAC1B,YAAY,iBAAiB,cAAc;YAC3C,QAAQ,SAAS,MAAM;YACvB,aAAa,SAAS,WAAW;YACjC,QAAQ,SAAS,MAAM;YACvB,OAAO,SAAS,KAAK;QACvB;QAEA,UAAU;QACV;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;8BAAI,kBAAkB,oBAAoB;;;;;;8BAC3C,8OAAC;oBACC,MAAK;oBACL,aAAY;oBACZ,OAAO,SAAS,MAAM;oBACtB,UAAU;;;;;;8BAEZ,8OAAC;oBACC,MAAK;oBACL,aAAY;oBACZ,OAAO,SAAS,WAAW;oBAC3B,UAAU;;;;;;8BAEZ,8OAAC;oBACC,MAAK;oBACL,MAAK;oBACL,aAAY;oBACZ,OAAO,SAAS,MAAM,IAAI;oBAC1B,UAAU,CAAC,IAAM,YAAY;4BAAE,GAAG,QAAQ;4BAAE,QAAQ,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;wBAAE;;;;;;8BAEtF,8OAAC;oBACC,MAAK;oBACL,MAAK;oBACL,aAAY;oBACZ,OAAO,SAAS,KAAK,IAAI;oBACzB,UAAU,CAAC,IAAM,YAAY;4BAAE,GAAG,QAAQ;4BAAE,OAAO,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK;wBAAE;;;;;;8BAEnF,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAO,WAAU;4BAAkB,SAAS;sCAC1C,kBAAkB,oBAAoB;;;;;;sCAEzC,8OAAC;4BAAO,WAAU;4BAAoB,SAAS;sCAAU;;;;;;;;;;;;;;;;;;;;;;;AAOnE","debugId":null}},
    {"offset": {"line": 627, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/percy/OneDrive/Documentos/frontend-usqay-logistica/src/app/dashboard/gestion-de-productos/page.tsx"],"sourcesContent":["'use client'\r\nimport React from 'react'\r\nimport HeaderProductos from '../../components/productos/HeaderProductos'\r\nimport FiltrosProductos from '../../components/productos/FiltrosProductos'\r\nimport TablaProductos from '../../components/productos/TablaProductos'\r\nimport FormularioNuevoProductoModal from '../../components/productos/FormularioNuevoProductomodal'\r\nimport '@/styles/productos.css'\r\nimport { Producto } from '@/shared/types/product.types'\r\nimport * as XLSX from 'xlsx'\r\n\r\nexport default function GestionDeProductosPage() {\r\n  const [productos, setProductos] = React.useState<Producto[]>([])\r\n  const [mostrarModal, setMostrarModal] = React.useState(false)\r\n  const [productoEnEdicion, setProductoEnEdicion] = React.useState<Producto | null>(null)\r\n  const [cargando, setCargando] = React.useState(true)\r\n  const [error, setError] = React.useState<string | null>(null)\r\n  const [filtros, setFiltros] = React.useState({\r\n    texto: '',\r\n    stock: 'Todos'\r\n  })\r\n\r\n  const cargarProductos = async () => {\r\n    try {\r\n      setCargando(true)\r\n      setError(null)\r\n\r\n      const data: Producto[] = [\r\n        {\r\n          idProducto: 1,\r\n          nombre: 'Laptop Dell XPS 13',\r\n          descripcion: 'Ultrabook con pantalla InfinityEdge',\r\n          precio: 4500,\r\n          stock: 15\r\n        },\r\n        {\r\n          idProducto: 2,\r\n          nombre: 'Auriculares Sony WH-1000XM5',\r\n          descripcion: 'Cancelación activa de ruido',\r\n          precio: 1200,\r\n          stock: 8\r\n        },\r\n        {\r\n          idProducto: 3,\r\n          nombre: 'Mouse Logitech MX Master 3S',\r\n          descripcion: 'Ergonómico y preciso',\r\n          precio: 350,\r\n          stock: 25\r\n        },\r\n        {\r\n          idProducto: 4,\r\n          nombre: 'Smartphone Samsung Galaxy S24',\r\n          descripcion: 'Pantalla AMOLED y cámara triple',\r\n          precio: 3800,\r\n          stock: 20\r\n        },\r\n        {\r\n          idProducto: 5,\r\n          nombre: 'Teclado Mecánico Keychron K6',\r\n          descripcion: 'Compacto con switches intercambiables',\r\n          precio: 420,\r\n          stock: 5\r\n        },\r\n        {\r\n          idProducto: 6,\r\n          nombre: 'TV LG OLED 55\"',\r\n          descripcion: 'Televisor inteligente 4K UHD',\r\n          precio: 5200,\r\n          stock: 3\r\n        },\r\n        {\r\n          idProducto: 7,\r\n          nombre: 'Tablet Apple iPad Air',\r\n          descripcion: 'Chip M1 y pantalla Liquid Retina',\r\n          precio: 3100,\r\n          stock: 12\r\n        },\r\n        {\r\n          idProducto: 8,\r\n          nombre: 'Cámara Canon EOS M50',\r\n          descripcion: 'Cámara sin espejo con grabación 4K',\r\n          precio: 2700,\r\n          stock: 10\r\n        },\r\n        {\r\n          idProducto: 9,\r\n          nombre: 'Monitor LG UltraWide 34\"',\r\n          descripcion: 'Resolución QHD para productividad',\r\n          precio: 2600,\r\n          stock: 9\r\n        },\r\n        {\r\n          idProducto: 10,\r\n          nombre: 'Impresora HP Smart Tank 720',\r\n          descripcion: 'Impresión económica a color',\r\n          precio: 980,\r\n          stock: 17\r\n        }\r\n      ]\r\n\r\n      setProductos(data)\r\n    } catch (err) {\r\n      console.error('Error cargando productos:', err)\r\n      setError('No se pudieron cargar los productos.')\r\n    } finally {\r\n      setCargando(false)\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    cargarProductos()\r\n  }, [])\r\n\r\n  const agregarOEditarProducto = async (producto: Partial<Producto> & { idProducto?: string | number }) => {\r\n    try {\r\n      const productoParaEnviar = {\r\n        nombre: producto.nombre || '',\r\n        descripcion: producto.descripcion || '',\r\n        precio: producto.precio !== undefined ? Number(producto.precio) : 0,\r\n        stock: producto.stock !== undefined ? Number(producto.stock) : 0\r\n      }\r\n\r\n      if (producto.idProducto) {\r\n        setProductos((prev) =>\r\n          prev.map((p) =>\r\n            Number(p.idProducto) === Number(producto.idProducto) ? { ...p, ...productoParaEnviar } : p\r\n          )\r\n        )\r\n      } else {\r\n        const nuevoProducto = {\r\n          ...productoParaEnviar,\r\n          idProducto: Date.now()\r\n        }\r\n        setProductos((prev) => [...prev, nuevoProducto as Producto])\r\n      }\r\n\r\n      setError(null)\r\n    } catch (err) {\r\n      console.error('Error al guardar producto:', err)\r\n      setError('No se pudo guardar el producto.')\r\n    }\r\n  }\r\n\r\n  const handleEliminar = async (idProducto: number) => {\r\n    const confirmar = window.confirm('¿Estás seguro de eliminar este producto?')\r\n    if (confirmar) {\r\n      try {\r\n        setProductos((prev) => prev.filter((p) => Number(p.idProducto) !== idProducto))\r\n      } catch (err) {\r\n        console.error('Error eliminando producto:', err)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleEditar = (producto: Producto) => {\r\n    setProductoEnEdicion(producto)\r\n    setMostrarModal(true)\r\n  }\r\n\r\n  const handleNuevo = () => {\r\n    setProductoEnEdicion(null)\r\n    setMostrarModal(true)\r\n  }\r\n\r\n  const resetearFiltros = () => {\r\n    setFiltros({\r\n      texto: '',\r\n      stock: 'Todos'\r\n    })\r\n    cargarProductos()\r\n  }\r\n\r\n  const handleExportar = () => {\r\n    try {\r\n      const datosExportar = filtrarProductos().map(p => ({\r\n        ID: p.idProducto,\r\n        Nombre: p.nombre,\r\n        Descripción: p.descripcion,\r\n        Precio: p.precio,\r\n        Stock: p.stock\r\n      }))\r\n      const hoja = XLSX.utils.json_to_sheet(datosExportar)\r\n      const libro = XLSX.utils.book_new()\r\n      XLSX.utils.book_append_sheet(libro, hoja, 'Productos')\r\n      XLSX.writeFile(libro, 'productos.xlsx')\r\n    } catch (err) {\r\n      console.error('Error al exportar:', err)\r\n    }\r\n  }\r\n\r\n  const filtrarProductos = () => {\r\n    return productos.filter((p) => {\r\n      const coincideTexto =\r\n        filtros.texto === '' ||\r\n        p.nombre.toLowerCase().includes(filtros.texto.toLowerCase())\r\n      const coincideStock =\r\n        filtros.stock === 'Todos' ||\r\n        (filtros.stock === 'Alto' ? p.stock > 10 : p.stock < 10)\r\n      return coincideTexto && coincideStock\r\n    })\r\n  }\r\n\r\n  const productosFiltrados = filtrarProductos()\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      <HeaderProductos\r\n        total={productosFiltrados.length}\r\n        onNuevoProductoClick={handleNuevo}\r\n        onExportarClick={handleExportar}\r\n      />\r\n      <FiltrosProductos\r\n        onChangeFiltros={setFiltros}\r\n        onResetFiltros={resetearFiltros}\r\n      />\r\n      {cargando && <p>Cargando productos...</p>}\r\n      {error && <p className=\"error-message\">{error}</p>}\r\n      {!cargando && !error && (\r\n        <TablaProductos\r\n          productos={productosFiltrados}\r\n          onEditar={handleEditar}\r\n          onEliminar={handleEliminar}\r\n        />\r\n      )}\r\n      {mostrarModal && (\r\n        <FormularioNuevoProductoModal\r\n          onAgregar={agregarOEditarProducto}\r\n          onCerrar={() => setMostrarModal(false)}\r\n          productoAEditar={productoEnEdicion}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}